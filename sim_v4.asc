Version 4
SHEET 1 2488 1092
WIRE 1184 -272 624 -272
WIRE 1472 -224 1360 -224
WIRE 624 -144 624 -272
WIRE 624 -144 -192 -144
WIRE 784 -144 624 -144
WIRE 1120 -144 864 -144
WIRE 1664 -144 1472 -144
WIRE 1360 -112 1360 -224
WIRE 1184 -96 1184 -272
WIRE 1328 -96 1184 -96
WIRE 1424 -80 1392 -80
WIRE 1120 -64 1120 -144
WIRE 1328 -64 1120 -64
WIRE 1472 -48 1472 -144
WIRE 1472 -48 1360 -48
WIRE 640 -16 432 -16
WIRE 880 -16 640 -16
WIRE 992 -16 880 -16
WIRE 1488 -16 992 -16
WIRE 1664 -16 1664 -144
WIRE 1664 -16 1584 -16
WIRE 1792 -16 1664 -16
WIRE 1920 -16 1792 -16
WIRE 2048 -16 2000 -16
WIRE 2160 -16 2128 -16
WIRE 2352 -16 2160 -16
WIRE 432 16 432 -16
WIRE 640 16 640 -16
WIRE 880 16 880 -16
WIRE 1424 96 1424 -80
WIRE 1568 96 1568 32
WIRE 1568 96 1424 96
WIRE 432 144 432 80
WIRE 432 144 -112 144
WIRE 1792 176 1792 -16
WIRE 2160 176 2160 -16
WIRE 2352 176 2352 -16
WIRE 992 224 992 -16
WIRE 640 256 640 80
WIRE 640 256 -112 256
WIRE 2160 320 2160 240
WIRE 880 368 880 80
WIRE 880 368 -112 368
WIRE 432 416 432 144
WIRE 640 416 640 256
WIRE 880 416 880 368
WIRE 432 544 432 480
WIRE 640 544 640 480
WIRE 640 544 432 544
WIRE 880 544 880 480
WIRE 880 544 640 544
WIRE 992 544 992 288
WIRE 992 544 880 544
WIRE 1792 544 1792 240
WIRE 1792 544 992 544
WIRE 2160 544 2160 400
WIRE 2160 544 1792 544
WIRE 2352 544 2352 256
WIRE 2352 544 2160 544
FLAG -192 144 0
FLAG -192 256 0
FLAG -192 368 0
FLAG -192 -144 0
SYMBOL voltage -96 144 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value SINE(0 325 50 0 0 0 0)
SYMBOL voltage -96 256 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value SINE(0 325 50 0 0 120 0)
SYMBOL voltage -96 368 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value SINE(0 325 50 0 0 240 0)
SYMBOL ind 1904 0 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 1.08m
SYMBOL cap 2144 176 R0
SYMATTR InstName C1
SYMATTR Value 2µ
SYMBOL res 2336 160 R0
SYMATTR InstName R1
SYMATTR Value 20
SYMBOL voltage 880 -144 R90
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value PULSE(0 5 0 1n 1n 6.55u 20u)
SYMBOL diode 1808 240 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D7
SYMATTR Value VS-E5TH1512
SYMBOL nmos 1488 32 R270
SYMATTR InstName M1
SYMATTR Value IPB65R420CFD
SYMBOL OpAmps\\opamp2 1360 -144 R0
SYMATTR InstName U1
SYMATTR Value TLP250
SYMBOL voltage 1472 -240 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value 15
SYMBOL diode 448 80 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D8
SYMATTR Value VS-E5TH1512
SYMBOL diode 656 80 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value VS-E5TH1512
SYMBOL diode 896 80 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMATTR Value VS-E5TH1512
SYMBOL diode 448 480 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMATTR Value VS-E5TH1512
SYMBOL diode 656 480 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D4
SYMATTR Value VS-E5TH1512
SYMBOL diode 896 480 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D5
SYMATTR Value VS-E5TH1512
SYMBOL voltage 1376 240 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 565
SYMBOL cap 976 224 R0
SYMATTR InstName C2
SYMATTR Value 10m
SYMBOL res 2144 -32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 0.2
SYMBOL res 2144 304 R0
SYMATTR InstName R3
SYMATTR Value 0.1
SYMBOL TL494 2400 944 R0
SYMATTR InstName U2
TEXT -336 560 Left 2 !.tran 1 uic
TEXT 1064 648 Left 2 !.SUBCKT TLP250 A K VCC EE VO\n* Toshiba TLP250 Behavioral Model\n* Pinout: A=Anode(2), K=Cathode(3), VCC=Supply(8), EE=GND(5), VO=Output(6/7)\n* Input LED Stage\nR1 A 2 1k\nD1 2 K DLED\n.MODEL DLED D(Is=1e-15 N=1 Rs=5)\n* Current Sensing\nE_sense 3_dum 0 VALUE={I(D1)}\n* Output Switch Stage with Delay (Approx 150ns-500ns)\nB_out VO_int 0 V = V(3_dum)>1m ? V(VCC) : V(EE)\nR_out VO_int VO 10   ; Output Impedance approx 10 ohms\nC_delay VO_int 0 200p ; Simulation of delay\n* Power consumption dummy\nR_supply VCC EE 10Meg\n.ENDS TLP250
